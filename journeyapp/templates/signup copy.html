{% extends "base_public.html" %}

{% block title %} Timbuktu - Signup {% endblock %}

{% block content %}
    <div class="container">
      <div class="row align-items-center justify-content-center">
        <div class="col-lg-8">
              <!-- Close X button -->
              <div class="d-flex justify-content-end pt-2 pe-3">
                <a href="/">
                    <img class="close-button" src="/static/images/close.png" alt="close button" width="30em"> 
                </a>
              </div>
            <div class="text-white border border-bottom-0 rounded-top text-center" style="background-color: var(--berkeley-blue);">
                <h1 class="p-3 m-0" style="color: white;">Sign up</h1>
            </div>
            <div class="bg-white border container">
              <form class="p-3" action="{{ url_for('signup') }}" method="post"novalidate enctype="multipart/form-data">
                <div class="mb-3">
                  <label for="username" class="form-label">Username</label>
                  <input type="text" class="form-control{% if username_error %} is-invalid{% endif %}" id="username" name="username" placeholder="Choose a username..." maxlength=20 value="{{ username }}" required>
                  <div class="invalid-feedback">{{ username_error }}</div>
                </div>
                <div class="mb-3">
                  <label for="email" class="form-label">Email Address</label>
                  <input type="text" class="form-control{% if email_error %} is-invalid{% endif %}" id="email" name="email" placeholder="Enter your email address..." maxlength=320 value="{{ email }}" required>
                  <div class="invalid-feedback">{{ email_error }}</div>
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label">Password</label>
                  <input type="password" class="form-control{% if password_error %} is-invalid{% endif %}" id="password" name="password" placeholder="Choose a password..." value="{{ password }}" aria-describedby="passwordHelp" required>
                  <div class="invalid-feedback">{{password_error}}</div>
                  <div id="passwordHelp" class="form-text">
                    <ul style="font-size: 15px;">
                      <li>At least 8 characters</li>
                      <li>At least one number</li>
                      <li>Uppercase and lowercase letters</li>
                    </ul>
                  </div>
                </div>
                <div class="mb-3">
                  <label for="confirm_password" class="form-label">Confirm password</label>
                  <input type="password" class="form-control{% if confirm_password_error %} is-invalid{% endif %}" id="confirm_password" name="confirm_password" placeholder="Confirm your password..." required>
                  <div class="invalid-feedback">{{ confirm_password_error }}</div>
                </div>
                <div class="mb-3">
                  <label for="first_name" class="form-label">First Name</label>
                  <input type="text" class="form-control{% if first_name_error %} is-invalid{% endif %}" id="first_name" name="first_name" placeholder="Enter your first name..." maxlength=50 value="{{ first_name }}" required>
                  <div class="invalid-feedback">{{ first_name_error }}</div>
                </div>
                <div class="mb-3">
                  <label for="last_name" class="form-label">Last Name</label>
                  <input type="text" class="form-control{% if last_name_error %} is-invalid{% endif %}" id="last_name" name="last_name" placeholder="Enter your last name..." maxlength=50 value="{{ last_name }}" required>
                  <div class="invalid-feedback">{{ last_name_error }}</div>
                </div>
                <div class="mb-3">
                  <label for="location" class="form-label">Location</label>
                  <input type="text" class="form-control{% if location_error %} is-invalid{% endif %}" id="location" name="location" placeholder="Enter your location..." maxlength=50 value="{{ location }}" required>
                  <div class="invalid-feedback">{{ location_error }}</div>
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-primary" style="font-size: 30px; padding-left: 20px;padding-right: 20px;;">Sign Up</button>
                </div>
              </form>
          </div>
          {% if signup_successful %}
          <div class="bg-success text-white border border-top-0 rounded-bottom text-center">
              <div class="p-2">You have successfully signed up! <a class="link-light" href="{{ url_for('login') }}">Log in</a></div>
          </div>
          {% else %}
          <div class="bg-white border border-top-0 rounded-bottom text-center">
              <div class="p-2" style="font-size: 20px;">Already have an account? <a href="{{ url_for('login') }}">Log in</a></div>
          </div>
          {% endif %}            
        </div>
      </div>
    </div>
{% endblock %}